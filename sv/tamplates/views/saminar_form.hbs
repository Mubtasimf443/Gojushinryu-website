<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seminar Enrollment - School of Traditional Martial Arts</title>
    {{>Links}}
    <style>
        /* Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Libre Franklin",Arial, sans-serif;
        }

        body {
            background-color: #f4f4f4;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Section */
        .header {
            text-align: center;
            padding: 40px 0;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .logo {
            max-width: 150px;
            margin-bottom: 20px;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.1));
            align-self: center;
        }

        .header h1 {
            font-size: 2em;
            color: #333;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.05em;
            color: #555;
            padding: 0px 30px;
        }

        /* Form Section */
        .form-section {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .form-section h2 {
            font-size: 2em;
            color: #ffaa1c;
            margin-bottom: 20px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            font-size: 11pt;
            line-height: 15pt;
            letter-spacing: 0;
            font-family: "Libre Franklin", Arial, sans-serif;
            font-size: 14px;
            font-weight: 400;
            letter-spacing: .2px;
            line-height: 20px;
            color: rgb(32, 33, 36);
            margin-top: 12px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #444;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        input:focus,
        select:focus,
        textarea:focus {
            border-color: #ffaa1c;
            box-shadow: 0 0 8px rgba(255, 170, 28, 0.3);
            outline: none;
        }

        /* Signature Pad */
        .signature-pad {
            border: 1px solid #ddd;
            border-radius: 6px;
            margin: 10px 0;
            cursor: crosshair;
            background-color: #f9f9f9;
        }

        /* Submit Button */
        button {
            background-color: #ffaa1c;
            color: white;
            padding: 14px 30px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            display: block;
            width: 100%;
            margin-top: 20px;
        }

        button:hover {
            background-color: #e69900;
            transform: translateY(-2px);
        }

        button:active {
            transform: translateY(0);
        }

        /* Required Field Indicator */
        .required::after {
            content: "*";
            color: red;
            margin-left: 3px;
        }

        /* Responsive Design */
        @media (max-width: 600px) {
            .header h1 {
                font-size: 2em;
            }

            .form-section h2 {
                font-size: 1.5em;
            }

            input[type="text"],
            input[type="email"],
            input[type="tel"],
            input[type="date"],
            select,
            textarea {
                font-size: 14px;
            }

            button {
                font-size: 14px;
            }
        }
    </style>
</head>

<body>
    {{>whiteHeader}}
    <main>
        <div class="container">
            <!-- Header Section -->
            <header class="header">
                <img src="/img/i2.png" alt="School Logo" class="logo">
                <h1>SCHOOL OF TRADITIONAL MARTIAL ARTS</h1>
                <p>Join our exclusive martial arts seminars and take your skills to the next level. Learn from
                    world-class instructors and immerse yourself in the art of discipline, strength, and tradition.</p>
            </header>

            <!-- Enrollment Form -->
            <form id="enrollmentForm" class="form-section">
                <h2>Seminar Enrollment</h2>

                <!-- Applicant Details -->
                <div class="form-group">
                    <label class="required">Full Name</label>
                    <input type="text" name="fullName" maxlength="100" minlength="8" required>
                </div>
                <div class="form-group">
                    <label class="required">Email</label>
                    <input type="email" name="email" maxlength="100" minlength="8" required>
                </div>

                <!-- Address Details -->
                <div class="form-group">
                    <label class="required">Address</label>
                    <input type="text" name="address" maxlength="200" minlength="8" required>
                </div>
                <div class="form-group">
                    <label class="required">City</label>
                    <input type="text" name="city" maxlength="100" minlength="8" required>
                </div>
                <div class="form-group">
                    <label class="required">Province/State</label>
                    <input type="text" name="province" maxlength="100" minlength="8" required>
                </div>
                <div class="form-group">
                    <label class="required">Country</label>
                    <input type="text" name="country" maxlength="100" minlength="8" required>
                </div>
                <div class="form-group">
                    <label class="required">Postal Code</label>
                    <input type="text" name="postalCode" required>
                </div>

                <!-- Contact Details -->
                <div class="form-group">
                    <label class="required">Phone Number</label>
                    <input type="tel" name="phone" required>
                </div>

                <!-- Seminar Selection -->
                <div class="form-group">
                    <label class="required">Seminar Name</label>
                    <input type="Text" maxlength="100" minlength="8" name="seminar" required>
                </div>

                <!-- Additional Questions -->
                <div class="form-group">
                    <label class="required">From where did you hear about us?</label>
                    <textarea name="source" rows="2" maxlength="1200" minlength="10" required></textarea>
                </div>
                <div class="form-group">
                    <label class="required">Why do you want to join?</label>
                    <textarea name="reason" rows="3" maxlength="1200" minlength="10" required></textarea>
                </div>
                <div class="form-group">
                    <label>Any medical condition we should know about?</label>
                    <textarea name="medical" rows="2" maxlength="1200" minlength="10" required></textarea>
                </div>

                <!-- Signature and Consent -->
                <div class="form-group">
                    <label class="required">Participant/Parent Signature</label>
                    <input type="text" name="signature" id="signatureData" required>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" name="consent" required>
                        I agree and understand that the Goju Shin Ryu and School of traditional Martial Arts Centre
                        (“organizers”)
                        and its officers, and directors are not responsible for any loss, damage, personal injury, and
                        death suffered by me, out of, or in connection with participation in this course and/or any
                        activity
                        associated with this course, whatsoever and howsoever caused, including negligence on the
                        part of the organizers. In consideration of my acceptance at the Martial Arts & Self-Defense
                        Program, I agree on behalf of myself, my dependants, heirs, assigns and representatives to
                        release, discharge and hold completely harmless organizers, it’s owners, officers, and directors
                        from any and all actions, claims, demands, liabilities, losses, damages, and expenses to my
                        person or property, arising in relation to participation in this project.
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" name="role2" required>
                        I am registering in the Martial Arts & Self-Defense Course, held by the School of traditional
                        martial arts and Goju Shin Ryu Martial Arts Centre. I understand that this will be a hands-on
                        program
                        involving interaction between participants. Although great intentions have been placed on
                        safety, injuries do occur.
                        I agree to hold harmless all School of traditional martial arts and Goju Shin Ryu Martial Arts
                        Centre staff and the RCD,
                        including officers and directors, from any liability resulting from my participation in the
                        registered
                        activity.
                    </label>
                </div>
                <!-- Submit Button -->
                <button type="submit">Submit Application</button>
            </form>
        </div>
        <script>
            let isRequesting = false;
            // Form Submission
            document.getElementById('enrollmentForm').addEventListener('submit', async function (e) {
                try {
                    e.preventDefault();
                    if (isRequesting) return alert('Requesting To the server Please wait till request Completed');
                    isRequesting = true;
                    e.target.style.opacity = .6;
                    const formData = new FormData(document.getElementById('enrollmentForm'));
                    const data = Object.fromEntries(formData.entries());
                    let params = new URLSearchParams(data).toString();
                    if (countWords(`[name="source"]`) < 10) {
                        return alert("Please enter more than 10 words in the question : From where did you hear about us?");
                    }
                    if (countWords(`[name="medical"]`) < 8) {
                        return alert("Please enter more than 8 words in the question : Any medical condition we should know about?");
                    }
                    if (countWords(`[name="reason"]`) < 8) {
                        return alert("Please enter more than 8 words in the question : Why do you want to join?");
                    }
                    const response = await fetch(window.location.origin + '/api/api_s/saminars/apply', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data),
                    });
                    if (response.ok) {
                        alert('Application submitted successfully!');
                        window.location.replace(window.location.origin + '/api/api_s/saminars/application/recieved');
                    } else {
                        alert('Submission failed. Please try again.');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred. Please try again later.');
                } finally {
                    isRequesting = false;
                    e.target.style.opacity = 1;
                }
            });

            function countWords(q) {
                let input = document.querySelector('q');
                let words = input.value.trim().split(' ').map(el => el.trim());
                return words.length;
            }
        </script>
    </main>
    {{>Footer}}
</body>

</html>